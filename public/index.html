<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>GoalShift ‚Äì G√ºn√ºn Tek Tahmini</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      color-scheme: dark;
    }
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #111827, #020617);
      color: #e5e7eb;
    }
    .card {
      width: 100%;
      max-width: 420px;
      padding: 28px 24px 24px;
      border-radius: 18px;
      background: rgba(15,23,42,0.92);
      box-shadow: 0 24px 80px rgba(15,23,42,0.8);
      border: 1px solid rgba(148,163,184,0.25);
    }
    .logo {
      font-weight: 700;
      font-size: 20px;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      color: #22c55e;
      margin-bottom: 4px;
    }
    .subtitle {
      font-size: 13px;
      color: #9ca3af;
      margin-bottom: 24px;
    }
    .section-title {
      font-size: 14px;
      font-weight: 600;
      color: #f9fafb;
      margin-bottom: 8px;
    }
    .section-help {
      font-size: 12px;
      color: #9ca3af;
      margin-bottom: 14px;
    }
    .prediction-box {
      border-radius: 12px;
      padding: 14px 12px;
      background: rgba(15,118,110,0.16);
      border: 1px solid rgba(45,212,191,0.4);
      margin-bottom: 18px;
    }
    .prediction-label {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: #67e8f9;
      margin-bottom: 4px;
    }
    .prediction-main {
      font-size: 15px;
      font-weight: 600;
      color: #e5e7eb;
      margin-bottom: 4px;
    }
    .prediction-meta {
      font-size: 12px;
      color: #9ca3af;
    }
    button {
      width: 100%;
      border: none;
      border-radius: 999px;
      padding: 10px 14px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      transition: transform 0.08s ease, box-shadow 0.12s ease, background 0.12s ease;
    }
    button:active {
      transform: scale(0.98);
    }
    .btn-google {
      background: #f9fafb;
      color: #111827;
      box-shadow: 0 10px 30px rgba(15,23,42,0.6);
      margin-bottom: 8px;
    }
    .btn-google span.icon {
      font-size: 16px;
    }
    .btn-logout {
      margin-top: 8px;
      background: transparent;
      color: #9ca3af;
      border: 1px solid rgba(148,163,184,0.4);
      font-size: 12px;
      padding: 7px 10px;
      box-shadow: none;
    }
    .user-info {
      margin-top: 10px;
      font-size: 12px;
      color: #9ca3af;
    }
    .badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      border-radius: 999px;
      padding: 4px 8px;
      font-size: 10px;
      background: rgba(37,99,235,0.18);
      color: #bfdbfe;
      margin-bottom: 10px;
    }
    .footer-note {
      margin-top: 14px;
      font-size: 11px;
      color: #6b7280;
      text-align: center;
    }
    .divider {
      height: 1px;
      background: radial-gradient(circle, rgba(148,163,184,0.35), transparent);
      margin: 18px 0 12px;
    }
  </style>
</head>
<body>
  <div class="card">
    <div class="logo">GoalShift</div>
    <div class="subtitle">G√ºnde tek ma√ß. ƒ∞statistiƒüe dayalƒ± tek tahmin.</div>

    <div class="badge">
      <span>üìä</span>
      <span id="session-status">Giri≈ü yapmadƒ±n</span>
    </div>

    <div class="section-title">Bug√ºn√ºn tahmini</div>
    <div class="section-help" id="prediction-help">
      √ñnce Google ile giri≈ü yap, sonra bug√ºn√ºn tek tahminini burada g√∂receksin.
    </div>

    <div class="prediction-box" id="prediction-box" style="display:none;">
      <div class="prediction-label">Bug√ºn√ºn se√ßimi</div>
      <div class="prediction-main" id="prediction-main">
        Ma√ß bilgisi y√ºkleniyor...
      </div>
      <div class="prediction-meta" id="prediction-meta">
        G√ºven skoru: %-- ‚Ä¢ Saat: --
      </div>
    </div>

    <button id="google-btn" class="btn-google">
      <span class="icon">üîê</span>
      <span>Google ile giri≈ü yap</span>
    </button>

    <button id="logout-btn" class="btn-logout" style="display:none;">
      Oturumu kapat
    </button>

    <div class="user-info" id="user-info" style="display:none;"></div>

    <div class="divider"></div>

    <div class="footer-note">
      ≈ûimdi sadece giri≈ü altyapƒ±sƒ±nƒ± kuruyoruz. Sonraki adƒ±mda senin panelinden girilen
      verilerle tahminleri buraya √ßekeceƒüiz.
    </div>
  </div>

  <script type="module">
    // 1) Firebase SDK'larƒ± (CDN √ºzerinden)
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import {
      getAuth,
      GoogleAuthProvider,
      signInWithPopup,
      signOut,
      onAuthStateChanged
    } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

    // 2) BURAYA KENDƒ∞ FIREBASE CONFIG'ƒ∞Nƒ∞ YAPI≈ûTIR
    const firebaseConfig = {
      apiKey: "AIzaSyB55Fzupjc0Ki2-FZiTlnyCziaD_Dy1DlI",
      authDomain: "goalshift-app.firebaseapp.com",
      projectId: "goalshift-app",
      storageBucket: "goalshift-app.firebasestorage.app",
      messagingSenderId: "10190573722",
      appId: "1:10190573722:web:93ba014a4263ce1702cf23"
    };

    // Initialize Firebase
const app = initializeApp(firebaseConfig);

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const provider = new GoogleAuthProvider();

    // 3) DOM referanslarƒ±
    const googleBtn = document.getElementById("google-btn");
    const logoutBtn = document.getElementById("logout-btn");
    const sessionStatus = document.getElementById("session-status");
    const userInfo = document.getElementById("user-info");
    const predictionBox = document.getElementById("prediction-box");
    const predictionMain = document.getElementById("prediction-main");
    const predictionMeta = document.getElementById("prediction-meta");
    const predictionHelp = document.getElementById("prediction-help");

    // 4) Login / Logout olaylarƒ±
    googleBtn.addEventListener("click", async () => {
      try {
        await signInWithPopup(auth, provider);
      } catch (err) {
        console.error(err);
        alert("Giri≈ü sƒ±rasƒ±nda bir hata oldu: " + err.message);
      }
    });

    logoutBtn.addEventListener("click", async () => {
      try {
        await signOut(auth);
      } catch (err) {
        console.error(err);
      }
    });

    // 5) Kullanƒ±cƒ± durumunu dinle
    onAuthStateChanged(auth, (user) => {
      if (user) {
        sessionStatus.textContent = "Giri≈ü yapƒ±ldƒ±";
        userInfo.style.display = "block";
        userInfo.textContent = `Giri≈ü yapan: ${user.email ?? user.displayName ?? "Bilinmiyor"}`;

        googleBtn.style.display = "none";
        logoutBtn.style.display = "inline-flex";

        // ≈ûimdilik tahmini biz sabit yazƒ±yoruz.
        // Sonraki adƒ±mda Firestore'dan "bug√ºn√ºn tahmini"ni √ßekeceƒüiz.
        predictionBox.style.display = "block";
        predictionHelp.textContent = "Bu demo tahmin. Panelden veri yazmayƒ± eklediƒüimizde burasƒ± canlƒ± olacak.";

        predictionMain.textContent = "√ñRNEK: Galatasaray ‚Äì Fenerbah√ße ‚Ä¢ ƒ∞lk Yarƒ± Gol Var";
        predictionMeta.textContent = "G√ºven skoru: %78 ‚Ä¢ Saat: 20:00";
      } else {
        sessionStatus.textContent = "Giri≈ü yapmadƒ±n";

        userInfo.style.display = "none";
        googleBtn.style.display = "inline-flex";
        logoutBtn.style.display = "none";
        predictionBox.style.display = "none";
        predictionHelp.textContent = "√ñnce Google ile giri≈ü yap, sonra bug√ºn√ºn tek tahminini burada g√∂receksin.";
      }
    });
  </script>
</body>
</html>

